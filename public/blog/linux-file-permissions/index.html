<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name=" robots" content="noindex, nofollow">
<title>Linux file permissions | Daniel Michaels | Software Developer</title>

<meta name="keywords" content="linux" />
<meta name="description" content="Linux: Chmod and Chown This is a short introduction to basic Linux file permissions and how to set them correctly. As a beginner, junior or experienced developer and/or administrator, you are going to need this!
Chmod: Change File Mode Bits 15:45:18 user@example temporary total 12K drwxr-xr-x 2 test users 4.0K Feb 1 14:29 . drwx------ 33 test users 4.0K Feb 3 15:45 .. -rw-r--r-- 1 test users 0 Jan 21 12:14 1 -rw-r--r-- 1 test users 0 Jan 21 12:14 3 -rw-r--r-- 1 test users 16 Feb 1 14:29 file.">
<meta name="author" content="Daniel Michaels">
<link rel="canonical" href="https://danielms.site/blog/linux-file-permissions/" />
<link href="https://danielms.site/assets/css/stylesheet.min.08d6f2005b6ce4ed10207916c0411c66e66f2201e3f7a56e8fb2ccbc4a8b259c.css" integrity="sha256-CNbyAFts5O0QIHkWwEEcZuZvIgHj96Vuj7LMvEqLJZw=" rel="preload stylesheet"
    as="style">

<link rel="icon" href="https://danielms.site/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://danielms.site/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://danielms.site/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://danielms.site/apple-touch-icon.png">
<link rel="mask-icon" href="https://danielms.site/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.78.1" />




</head>

<body class="single" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        .theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://danielms.site/" accesskey="h">Daniel Michaels | Software Developer</a>
            <span class="logo-switches">
                <span class="theme-toggle">
                    <a id="theme-toggle" accesskey="t">
                        <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </a>
                </span>
                
            </span>
        </div>
        <ul class="menu" id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://danielms.site/blog/">
                    <span>
                        Blog
                    </span>
                </a>
            </li>
            <li>
                <a href="https://danielms.site/about/">
                    <span>
                        About
                    </span>
                </a>
            </li>
            <li>
                <a href="https://github.com/danielmichaels">
                    <span>
                        Code
                    </span>
                </a>
            </li></ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">
      Linux file permissions
    </h1>
    <div class="post-meta">

February 4, 2018&nbsp;·&nbsp;Daniel Michaels

    </div>
  </header> 

  <div class="post-content">
<h2 id="linux-chmod-and-chown">Linux: Chmod and Chown<a hidden class="anchor" aria-hidden="true" href="#linux-chmod-and-chown">#</a></h2>
<p>This is a short introduction to basic Linux file permissions and how to set them correctly.
As a beginner, junior or experienced developer and/or administrator, you are going to need this!</p>
<h3 id="chmod-change-file-mode-bits"><strong>Chmod: Change File Mode Bits</strong><a hidden class="anchor" aria-hidden="true" href="#chmod-change-file-mode-bits">#</a></h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">15:45:18 user@example temporary 
total 12K
drwxr-xr-x  <span class="m">2</span> <span class="nb">test</span> users 4.0K Feb  <span class="m">1</span> 14:29 .
drwx------ <span class="m">33</span> <span class="nb">test</span> users 4.0K Feb  <span class="m">3</span> 15:45 ..
-rw-r--r--  <span class="m">1</span> <span class="nb">test</span> users    <span class="m">0</span> Jan <span class="m">21</span> 12:14 <span class="m">1</span>
-rw-r--r--  <span class="m">1</span> <span class="nb">test</span> users    <span class="m">0</span> Jan <span class="m">21</span> 12:14 <span class="m">3</span>
-rw-r--r--  <span class="m">1</span> <span class="nb">test</span> users   <span class="m">16</span> Feb  <span class="m">1</span> 14:29 file.txt
</code></pre></div><p>In the above example output from left to right we have: filemode, number
of links, user, group, size, date last modified, name of file.</p>
<p>We will focus on the filemode for now.</p>
<pre><code>drwxr-xr-x
0123456789 &lt;-- this is our reference marker.
</code></pre>
<p>0: is either <code>-</code> meaning a file, or <code>d</code>
signifying that it is a directory.</p>
<p>1-3: represents the user or owner of the file.</p>
<p>4-6: is reference to the group that owns the file.</p>
<p>7-9: everybody else, or other.</p>
<p><strong>Change the filemodes:</strong></p>
<p>The command <code>chmod</code> is used to change the mode files of
files. Its basic syntax is as follows:</p>
<p>In <code>chmod u+x file.txt</code> the <code>u</code> signifies <code>user</code> and the <code>+</code>
means add and the <code>x</code> refers to execute. This can be
stacked, and used to takeaway permissions.</p>
<p><code>chmod -R g+rwx directory</code> would recursively
(<code>-R</code>) change all <code>group</code> files within
<code>directory</code> to read, write and execute.</p>
<p>Importantly, if the user or group <strong>does not</strong> own the file or directory
then the command <code>sudo</code> must be used. Otherwise it is not
needed.</p>
<p><strong>Octal:</strong></p>
<p>In the above examples we used <code>rwx</code> to note what
permissions we wanted to add or remove from a file. Another method is to
use the <em>octal</em> notation; numeral.</p>
<p><code>chmod 777 file.txt</code> would mean that we are giving
<code>rwx</code> to user, group and other. How does 7 equal
<code>rwx</code>?</p>
<p>This is because <code>4</code> gives read access, <code>2</code> is
write and <code>1</code>, execute. When using octal we add the numbers
together, so if we wanted read, write and execute we simply add 4,2,1
which equals 7.</p>
<p><code>chmod 765 xxx.txt</code> would mean: - user: read, write and
execute -group: read and write - other: read and execute</p>
<p>Using this is very simple, but how do I remove permissions? Previously,
we would <code>chmod u-x</code> i.e. we used the <code>-</code> to
signify removal of privilege. Using octal we just set new filemode to
what we want and it will add or subtract the mode accordingly. An
example below:</p>
<p><code>chmod a+rwx</code> == give read, write and execute to all
(user,group a)nd other) <em>or</em> <code>777</code>.</p>
<p>But if we only wanted the user to have <code>rwx</code> and everyone
else read and write we could call: <code>chmod 755</code>. To use
non-octal here would be <code>chmod go-x</code>.</p>
<p>Important note: As with all things linux there are many more advanced
features. We are just touching the surface here.</p>
<h3 id="chown-change-file-owner-and-group">Chown: Change File Owner and Group<a hidden class="anchor" aria-hidden="true" href="#chown-change-file-owner-and-group">#</a></h3>
<p>The <code>chown</code> command deals with changing the ownership of
files and directories.</p>
<pre><code>drwxrwxr-x  1 test users 14.0K Jan 21 12:14 dir_1

-rw-r--r--  1   admin   root   16 Feb  1 14:29 file.txt
[filemode]     [owner] [grp]  
</code></pre>
<p>Above we have a break down of the important parts of our
<code>ls -la</code> output.</p>
<p>In the faked output we have <code>admin</code> in the first position
which is representing the owner/ creator of <code>file.txt</code>. In
postilion two we have the group that <code>file.txt</code> belongs to,
in this case its <code>root</code>.</p>
<p>The owner of a file can make changes to the filemode and ownership of a
file without super user privileges. However, if another user wanted to
change the ownership they would require this access.</p>
<p>To make a change is as simple as
<code>chown [user]:[group] [file/s]</code>.</p>
<pre><code>$ sudo chown root file.txt # 1.
$ ls -l 
-rw-r--r--  1 root root   16 Feb  1 14:29 file.txt
</code></pre>
<p>The simplest usage of <code>chown</code> is the command plus the new
owner and file or directory to be affected.</p>
<pre><code>$ sudo chown -R admin dir_1 # 2.
$ ls -l
drwxrwxr-x  1 admin users 14.0K Jan 21 12:14 dir_1
</code></pre>
<p>If we wanted to make the changes to all files and directories inside a
directory we can add <code>-R</code>. This is a recursive function
with the same syntax as <code>chmod</code>.</p>
<pre><code>$ sudo chown admin:admin file.txt 
$ ls -l
-rw-r--r--  1 admin admin   16 Feb  1 14:29 file.txt
</code></pre>
<p>To specify a new owner and group the use of <code>:</code> between the
owner and group can be used. <code>admin:users</code>, <code>root:root</code>
and so on.</p>

</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://danielms.site/tags/linux">linux</a></li>
    </ul>
  </footer>
</article>
    </main><footer class="footer">
    <span>&copy; 2020 <a href="https://danielms.site/">Daniel Michaels | Software Developer</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a></span>
    <span>&middot;</span>
    <span>Theme <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top" accesskey="g">
    <button class="top-link" id="top-link" type="button">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6">
            <path d="M12 6H0l6-6z" /></svg>
    </button>
</a>



<script defer src="https://danielms.site/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js" integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w="
    onload="hljs.initHighlightingOnLoad();"></script>
<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                behavior: "smooth"
            });
        });
    });
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

</body>

</html>
