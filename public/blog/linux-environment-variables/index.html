<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="Daniel Michaels">
<meta name="description" content="Environment Variables Simply put, environment variables are a collection of key value strings held by the current shell or process. Each process has access to an array of environment variables held in its user-space memory.
The environment variables are available to all applications, and allow these programs or scripts use them within the shell environment. They can allow custom modification to defaults that permeate throughout the user-space rather than be homed within each applications configuration.">

<meta property="og:title" content="Linux Environment Variables &amp; PATH" />
<meta property="og:description" content="Environment Variables Simply put, environment variables are a collection of key value strings held by the current shell or process. Each process has access to an array of environment variables held in its user-space memory.
The environment variables are available to all applications, and allow these programs or scripts use them within the shell environment. They can allow custom modification to defaults that permeate throughout the user-space rather than be homed within each applications configuration." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://danielms.site/blog/linux-environment-variables/" />
<meta property="article:published_time" content="2018-08-11T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2018-08-11T00:00:00&#43;00:00"/>


<title>


     Linux Environment Variables &amp; PATH 

</title>
<link rel="canonical" href="https://danielms.site/blog/linux-environment-variables/">







<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/default.min.css">




<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500">



    
    <link rel="stylesheet" href="https://danielms.site/css/reset.css?t=2019-05-04%2014%3a47%3a22.350598811%20%2b1000%20AEST%20m%3d%2b0.198870946">
    <link rel="stylesheet" href="https://danielms.site/css/pygments.css?t=2019-05-04%2014%3a47%3a22.350598811%20%2b1000%20AEST%20m%3d%2b0.198870946">
    <link rel="stylesheet" href="https://danielms.site/css/main.css?t=2019-05-04%2014%3a47%3a22.350598811%20%2b1000%20AEST%20m%3d%2b0.198870946">
    




<link rel="shortcut icon"

    href="https://danielms.site/extra/favicon.ico"

>








</head>


<body lang="en">

<section class="header">
    <div class="container">
        <div class="content">
            
                
                
                
                
                
                    
                
                    
                
                
                <a href="https://danielms.site/"><img class="avatar" src="https://danielms.site/extra/cover.jpeg" srcset="https://danielms.site/extra/cover.jpeg 1x"></a>
            
            <a href="https://danielms.site/"><div class="name">Daniel Michaels</div></a>
            
              <h3 class="self-intro">I forget things so I write them down.</h3>
            
            <nav>
                <ul>
                    
                        <li class="nav-blog"><a href="https://danielms.site/blog/"><span>Blog</span></a></li>
                    
                        <li class="nav-about"><a href="https://danielms.site/about/"><span>About</span></a></li>
                    
                        <li class="nav-code"><a href="https://github.com/danielmichaels"><span>Code</span></a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">
        
            <a href="//github.com/danielmichaels" target="_blank" rel="noopener"><img class="icon" src="https://danielms.site/img/github.svg" alt="github" /></a>
        

        

        
            <a href="//twitter.com/danequalsdan" target="_blank" rel="noopener"><img class="icon" src="https://danielms.site/img/twitter.svg" alt="twitter" /></a>
        

	

        

        

        

        

        

        
            <a href="//instagram.com/danequalsdan" target="_blank" rel="noopener"><img class="icon" src="https://danielms.site/img/instagram.svg" alt="instagram" /></a>
        

        

        

        
            <a href="mailto:danielms@danielms.site"><img class="icon" src="https://danielms.site/img/email.svg" alt="email" /></a>
        

        

        
        </div>
    </div>
</section>


<section class="main post non-narrow zero-top-spacing">
    <div class="container">
        <div class="content">
            <div class="front-matter">
                <div class="title-container">
                    <div class="page-heading">

    Linux Environment Variables &amp; PATH

</div>

                    <div class="initials"><a href="https://danielms.site/">ad</a></div>
                </div>
                <div class="meta">
                    
                    <div class="date" title='Sat Aug 11 2018 00:00:00 UTC'>Aug 11, 2018</div>
                    
                    
		    <div class="reading-time"><div class="middot"></div>4 minutes read</div>
                    
                </div>
            </div>
            <div class="markdown">
                

<h1 id="environment-variables">Environment Variables</h1>

<p>Simply put, environment variables are a collection of key value strings held by the current shell or process. Each process has access to an array of environment variables held in its user-space memory.</p>

<p>The environment variables are available to all applications, and allow these programs or scripts use them within the shell environment. They can allow custom modification to defaults that permeate throughout the user-space rather than be homed within each applications configuration.</p>

<p>Each process that is created via <code>fork()</code>, will inherit a copy of its parent&rsquo;s environment. This ensures the communication and transfer of variables from the parent is a once-only one-way transaction. This is important to prevent updated environment variables from one child polluting the global user-space should it go wrong.</p>

<h1 id="path">PATH</h1>

<p>Each environment will have access to several default or standard variables such as:</p>

<ul>
<li>PATH</li>
<li>HOME</li>
<li>LOGNAME</li>
<li>SHELL</li>
<li>EDITOR</li>
<li>MAIL</li>
</ul>

<p>By typing <code>echo $HOME</code> the users home location will be printed to the terminal. Environmental variables are <strong>case sensitive</strong>, and by convention the key is written in capitals.</p>

<p>echoing <code>$PATH</code> on a unix platform will output a <code>:</code> separated list of file paths such as:</p>

<pre><code class="language-shell">/usr/local/bin:/usr/local/sbin:/usr/bin
</code></pre>

<p>The <code>PATH</code> is set by system and user start-up scripts - the exact process can change between implementations.
Its function is to search in the <code>PATH</code> locations for the name of any program being called for execution.
In linux everything is file, and when a file is set with the execution bit, that file can be called with the <code>exec()</code> method.
What the <code>PATH</code> does is search recursively through each location, from left to right as its printed, looking for that file if its not given with an absolute path.</p>

<h2 id="example">Example</h2>

<pre><code class="language-shell">$ which echo
/bin/echo
$ ls -l /bin/echo
-rwxr-xr-x 1 root root 30k Dec 29 2017 /bin/echo
$ echo $PATH
/home/userName/bin:/usr/local/bin:/usr/bin:/bin  # /bin in PATH
</code></pre>

<p>Above we see that calling <code>which echo</code> returns the location of <code>echo</code> (in my distro it returns <code>echo: shell built-in command</code> but <code>/bin/echo</code> will call the file nonetheless).
Now when we call <code>echo</code> which is not an absolute path, the <code>PATH</code> variable is consulted. Moving left to right the system checks for an executable file named <code>echo</code>, which is finds inside <code>/bin</code>. Once found it executes and ceases the search. If we called <code>/bin/echo</code> the <code>PATH</code> would be searched.</p>

<h2 id="example-two">Example Two</h2>

<p>In a real world case, I use Go&rsquo;s <code>/bin</code> location as an exemplar of why you may need to add to the <code>PATH</code> variable.</p>

<p>Dave Cheney has a pretty sweet Go knock off of an awesome package by the same name <code>httpstat</code>. The TL;DR is that it gives you statistic on a site by simply calling <code>httpstat https://reorx.com</code>. Astute readers will see that this requires <code>httpstat</code> to be on the <code>PATH</code> or it will generate an error.</p>

<p>Fixing this was simple as we see below.</p>

<h1 id="creation-deletion">Creation &amp; Deletion</h1>

<p>Environment variables are key value pairs, case sensitive and by convention have the key written in caps.</p>

<h2 id="creation">Creation</h2>

<p>Adding to your current shell environments list of variables is simple.</p>

<pre><code class="language-bash"># method 1
$ VAR=foo       # create key:value
$ export VAR    # export is called on VAR
$ echo $VAR     # echo VAR to terminal
foo

# method 2
$ export VAR=foo # combine export and variable assignment
$ echo $VAR
foo
</code></pre>

<p>Bourne shells accept the second method, and its probably the most common and convenient method. <code>export</code> is unix command to set the attribute for a variable. See <code>man export</code> for more information.</p>

<h2 id="deletion">Deletion</h2>

<pre><code class="language-bash">$ unset VAR
$ echo $VAR
# will echo empty string
</code></pre>

<p>Continuing with the <code>httpstat</code> example we will append the location of Go&rsquo;s package binaries to our <code>PATH</code>.</p>

<pre><code class="language-bash">$ export PATH=~/go/bin:$PATH # now added to PATH
</code></pre>

<p>Once the variable is exported, it will only live within the current shell. If we close it down, that updated <code>PATH</code> is now lost.</p>

<p>To make the variables persistent we add them to our shell&rsquo;s <code>.profile</code> or <code>.bashrc</code> if using bash. In my case, I use Zsh so its added to <code>.zshrc</code>. Calling <code>source .zshrc</code> will reload <code>.zshrc</code> and make the new variables available if not already. And, because each process inherits form the parent, removing it form the file will prevent it being added to the environment list if needed in the future.</p>

<h1 id="security-tidbits">Security tidbits</h1>

<p>Of note linux implements a security measure within the Superusers <code>PATH</code>. The current working directory is normally omitted from the <code>PATH</code> meaning files must be called using <code>./</code> as the prefix or as an absolute path. This prevents malicious users from placing an executable file with the same name as a system-wide executable such as <code>ls</code> being run as root.</p>

<h1 id="conclusion">Conclusion</h1>

<ul>
<li>Environment variables allows the system to access a list of values for use in applications</li>
<li>Users can set and unset variables</li>
<li><code>PATH</code> is important when you need to access an executable without calling its absolute path</li>
</ul>

                <br>
                
                <p class="back-to-posts"><a href="https://danielms.site/blog">Back to posts</a></p>
            </div>
            <br>
            <div class="disqus">
                
            </div>
            
        </div>
    </div>
</section>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-123-45', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
  

  <script type="text/javascript">
    hljs.initHighlightingOnLoad();
  </script>





</body>
</html>

