<!DOCTYPE html>
<html lang="en" data-theme=""><head>
    <title> Daniel Michaels | Linux Environment Variables &amp; PATH </title>

    
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.80.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" content="I build things and drink coffee.">
    
    <link rel="stylesheet"
          href="https://danielms.site/css/style.min.9a6700e4461b50dccdddfc4f81dc65d77e7fca22c35665e398a0c36568db59c7.css"
          integrity="sha256-mmcA5EYbUNzN3fxPgdxl135/yiLDVmXjmKDDZWjbWcc="
          crossorigin="anonymous"
          type="text/css">
    
    <link rel="stylesheet"
        href="https://danielms.site/css/markupHighlight.min.cc84ed683057cc175ddfa738ea6ba2d5c882b95cb64f50bf9be918cb3791887b.css"
        integrity="sha256-zITtaDBXzBdd36c46mui1ciCuVy2T1C/m&#43;kYyzeRiHs="
        crossorigin="anonymous"
        type="text/css">
    
    <link rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" 
    integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" 
    crossorigin="anonymous" />

    
    <link rel="shortcut icon" href="https://danielms.site/extra/favicon.icofavicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="https://danielms.site/extra/favicon.icoapple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://danielms.site/extra/favicon.icofavicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://danielms.site/extra/favicon.icofavicon-16x16.png">

    <link rel="canonical" href="https://danielms.site/blog/linux-environment-variables/">

    
    
    
    
    <script type="text/javascript"
            src="https://danielms.site/js/anatole-header.min.d8599ee07b7d3f11bafbac30657ccc591e8d7fd36a9f580cd4c09e24e0e4a971.js"
            integrity="sha256-2Fme4Ht9PxG6&#43;6wwZXzMWR6Nf9Nqn1gM1MCeJODkqXE="
            crossorigin="anonymous"></script>


    
        
        
        <script type="text/javascript"
                src="https://danielms.site/js/anatole-theme-switcher.min.e289e9ebb2a4e7a7f895859c8a2b0da2de1ec73f22cea58d8475aa0597023837.js"
                integrity="sha256-4onp67Kk56f4lYWciisNot4exz8izqWNhHWqBZcCODc="
                crossorigin="anonymous"></script>
    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Linux Environment Variables &amp; PATH"/>
<meta name="twitter:description" content="Environment Variables Simply put, environment variables are a collection of key value strings held by the current shell or process."/>


    
    <meta property="og:title" content="Linux Environment Variables &amp; PATH" />
<meta property="og:description" content="Environment Variables Simply put, environment variables are a collection of key value strings held by the current shell or process." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://danielms.site/blog/linux-environment-variables/" />
<meta property="article:published_time" content="2018-08-11T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-08-11T00:00:00+00:00" /><meta property="og:site_name" content="Daniel Michaels ðŸ‡¦ðŸ‡º" />

</head>
<body><div class="sidebar animated fadeInDown ">
    <div class="logo-title">
        <div class="title">
            <img src="https://danielms.site/extra/cover.jpeg" alt="profile picture">
            <h3 title=""><a href="/">Daniel Michaels ðŸ‡¦ðŸ‡º</a></h3>
            <div class="description">
                <p>I build things and drink coffee.</p>
            </div>
        </div>
    </div>
    <ul class="social-links">
        
            <li>
                <a href="https://linkedin.com/in/daniel-michaels" rel="me" aria-label="Linkedin">
                    <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="https://github.com/danielmichaels/" rel="me" aria-label="GitHub">
                    <i class="fab fa-github fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="https://www.twitter.com/dansult/" rel="me" aria-label="twitter">
                    <i class="fab fa-twitter fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="mailto:dan@mudmap.io" rel="me" aria-label="e-mail">
                    <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
    </ul>
    <div class="footer">
        <div class="by_farbox">&copy; Daniel Michaels  2018-2021 </div>
    </div>
</div>
<div class="main">
    <div class="page-top  animated fadeInDown ">
    <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
    </a>
    <ul class="nav" id="navMenu">
        
        
            
            <li><a 
                   href="/"
                        
                   title="">Home</a></li>
        
            
            <li><a 
                   href="/blog/"
                        
                   title="">Blog</a></li>
        
            
            <li><a 
                   href="/retrospectives/"
                        
                   title="">Retrospectives</a></li>
        
            
            <li><a 
                   href="/projects/"
                        
                   title="">Projects</a></li>
        
            
            <li><a 
                   href="/about/"
                        
                   title="">About</a></li>
        
        
        
            <li class="theme-switch-item">
                <a class="theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a>
            </li>
        
    </ul>
</div>

    <div class="autopagerize_page_element">
        <div class="content">
    <div class="post  animated fadeInDown ">
        <div class="post-content">
            
            <div class="post-title">
                <h3>Linux Environment Variables &amp; PATH</h3>
                
            </div>

            <h1 id="environment-variables">Environment Variables</h1>
<p>Simply put, environment variables are a collection of key value strings held by the current shell or process. Each process has access to an array of environment variables held in its user-space memory.</p>
<p>The environment variables are available to all applications, and allow these programs or scripts use them within the shell environment. They can allow custom modification to defaults that permeate throughout the user-space rather than be homed within each applications configuration.</p>
<p>Each process that is created via <code>fork()</code>, will inherit a copy of its parent&rsquo;s environment. This ensures the communication and transfer of variables from the parent is a once-only one-way transaction. This is important to prevent updated environment variables from one child polluting the global user-space should it go wrong.</p>
<h1 id="path">PATH</h1>
<p>Each environment will have access to several default or standard variables such as:</p>
<ul>
<li>PATH</li>
<li>HOME</li>
<li>LOGNAME</li>
<li>SHELL</li>
<li>EDITOR</li>
<li>MAIL</li>
</ul>
<p>By typing <code>echo $HOME</code> the users home location will be printed to the terminal. Environmental variables are <strong>case sensitive</strong>, and by convention the key is written in capitals.</p>
<p>echoing <code>$PATH</code> on a unix platform will output a <code>:</code> separated list of file paths such as:</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">/usr/local/bin:/usr/local/sbin:/usr/bin
</code></pre></div><p>The <code>PATH</code> is set by system and user start-up scripts - the exact process can change between implementations.
Its function is to search in the <code>PATH</code> locations for the name of any program being called for execution.
In linux everything is file, and when a file is set with the execution bit, that file can be called with the <code>exec()</code> method.
What the <code>PATH</code> does is search recursively through each location, from left to right as its printed, looking for that file if its not given with an absolute path.</p>
<h2 id="example">Example</h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">$ which <span class="nb">echo</span>
/bin/echo
$ ls -l /bin/echo
-rwxr-xr-x <span class="m">1</span> root root 30k Dec <span class="m">29</span> <span class="m">2017</span> /bin/echo
$ <span class="nb">echo</span> <span class="nv">$PATH</span>
/home/userName/bin:/usr/local/bin:/usr/bin:/bin  <span class="c1"># /bin in PATH</span>
</code></pre></div><p>Above we see that calling <code>which echo</code> returns the location of <code>echo</code> (in my distro it returns <code>echo: shell built-in command</code> but <code>/bin/echo</code> will call the file nonetheless).
Now when we call <code>echo</code> which is not an absolute path, the <code>PATH</code> variable is consulted. Moving left to right the system checks for an executable file named <code>echo</code>, which is finds inside <code>/bin</code>. Once found it executes and ceases the search. If we called <code>/bin/echo</code> the <code>PATH</code> would be searched.</p>
<h2 id="example-two">Example Two</h2>
<p>In a real world case, I use Go&rsquo;s <code>/bin</code> location as an exemplar of why you may need to add to the <code>PATH</code> variable.</p>
<p>Dave Cheney has a pretty sweet Go knock off of an awesome package by the same name <code>httpstat</code>. The TL;DR is that it gives you statistic on a site by simply calling <code>httpstat https://reorx.com</code>. Astute readers will see that this requires <code>httpstat</code> to be on the <code>PATH</code> or it will generate an error.</p>
<p>Fixing this was simple as we see below.</p>
<h1 id="creation--deletion">Creation &amp; Deletion</h1>
<p>Environment variables are key value pairs, case sensitive and by convention have the key written in caps.</p>
<h2 id="creation">Creation</h2>
<p>Adding to your current shell environments list of variables is simple.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># method 1</span>
$ <span class="nv">VAR</span><span class="o">=</span>foo       <span class="c1"># create key:value</span>
$ <span class="nb">export</span> VAR    <span class="c1"># export is called on VAR</span>
$ <span class="nb">echo</span> <span class="nv">$VAR</span>     <span class="c1"># echo VAR to terminal</span>
foo

<span class="c1"># method 2</span>
$ <span class="nb">export</span> <span class="nv">VAR</span><span class="o">=</span>foo <span class="c1"># combine export and variable assignment</span>
$ <span class="nb">echo</span> <span class="nv">$VAR</span>
foo
</code></pre></div><p>Bourne shells accept the second method, and its probably the most common and convenient method. <code>export</code> is unix command to set the attribute for a variable. See <code>man export</code> for more information.</p>
<h2 id="deletion">Deletion</h2>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nb">unset</span> VAR
$ <span class="nb">echo</span> <span class="nv">$VAR</span>
<span class="c1"># will echo empty string</span>
</code></pre></div><p>Continuing with the <code>httpstat</code> example we will append the location of Go&rsquo;s package binaries to our <code>PATH</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span>~/go/bin:<span class="nv">$PATH</span> <span class="c1"># now added to PATH</span>
</code></pre></div><p>Once the variable is exported, it will only live within the current shell. If we close it down, that updated <code>PATH</code> is now lost.</p>
<p>To make the variables persistent we add them to our shell&rsquo;s <code>.profile</code> or <code>.bashrc</code> if using bash. In my case, I use Zsh so its added to <code>.zshrc</code>. Calling <code>source .zshrc</code> will reload <code>.zshrc</code> and make the new variables available if not already. And, because each process inherits form the parent, removing it form the file will prevent it being added to the environment list if needed in the future.</p>
<h1 id="security-tidbits">Security tidbits</h1>
<p>Of note linux implements a security measure within the Superusers <code>PATH</code>. The current working directory is normally omitted from the <code>PATH</code> meaning files must be called using <code>./</code> as the prefix or as an absolute path. This prevents malicious users from placing an executable file with the same name as a system-wide executable such as <code>ls</code> being run as root.</p>
<h1 id="conclusion">Conclusion</h1>
<ul>
<li>Environment variables allows the system to access a list of values for use in applications</li>
<li>Users can set and unset variables</li>
<li><code>PATH</code> is important when you need to access an executable without calling its absolute path</li>
</ul>
</div>
        <div class="post-footer">
            <div class="info">
                
                
            </div>
        </div>

        
    </div>


        </div>
    </div>
</div>

<script type="text/javascript"
        src="https://danielms.site/js/jquery.min.86b1e8f819ee2d9099a783e50b49dff24282545fc40773861f9126b921532e4c.js"
        integrity="sha256-hrHo&#43;BnuLZCZp4PlC0nf8kKCVF/EB3OGH5EmuSFTLkw="
        crossorigin="anonymous"></script>




<script type="text/javascript"
        src="https://danielms.site/js/bundle.min.0f9c74cb78f13d1f15f33daff4037c70354f98acfbb97a6f61708966675c3cae.js"
        integrity="sha256-D5x0y3jxPR8V8z2v9AN8cDVPmKz7uXpvYXCJZmdcPK4="
        crossorigin="anonymous"></script>

<script type="text/javascript"
        src="https://danielms.site/js/medium-zoom.min.92f21c856129f84aeb719459b3e6ac621a3032fd7b180a18c04e1d12083f8aba.js"
        integrity="sha256-kvIchWEp&#43;ErrcZRZs&#43;asYhowMv17GAoYwE4dEgg/iro="
        crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-149607103-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</body>

</html>
